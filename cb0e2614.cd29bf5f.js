(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{146:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return y})),n.d(t,"metadata",(function(){return C})),n.d(t,"toc",(function(){return j})),n.d(t,"default",(function(){return k}));var o={};n.r(o),n.d(o,"AtomBgControlSample",(function(){return f}));var r=n(3),l=n(7),a=n(0),i=n.n(a),d=n(189),c=n(206),s=n(639),u=n(857),m=n(851),b=n(670),p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,l=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=l.next()).done;)a.push(o.value)}catch(i){r={error:i}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return a},v=Object(s.a)({id:"color",defaultValue:"white"}),f=function(){return i.a.createElement(u.a,null,i.a.createElement("div",null,"\u70b9\u51fb\u50cfdevtools\u53d1\u9001\u6d88\u606f"),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement(g,null),i.a.createElement(h,null)))},g=function(){var e=Object(m.j)(v);return i.a.createElement("div",null,i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{style:{width:435,height:435,background:e,border:"1px solid grey"}}),i.a.createElement("div",{style:{position:"absolute",top:10,left:10}},i.a.createElement(x,null))))},x=function(){var e=Object(m.f)(v);return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex"}},["#fff","#000"].map((function(t){return i.a.createElement("div",{key:t,onClick:function(){e(t)},style:{marginLeft:12,border:"1px solid grey",background:t,width:32,height:32,borderRadius:"50%"}})}))),i.a.createElement("div",{style:{color:"orange"}},"\u70b9\u51fb\u6211\u53ef\u4ee5\u5207\u6362\u753b\u5e03\u989c\u8272\u54e6!!"))},h=function(){var e=p(Object(m.g)(v),2),t=e[0],n=e[1];return i.a.createElement(b.a,{color:t,onChange:function(e){var t=e.rgb,o=t.a,r=t.r,l=t.g,a=t.b;n("rgba("+r+","+l+","+a+","+o)}})},y={id:"Atom",title:"Atom"},C={unversionedId:"tutorial/Atom",id:"tutorial/Atom",isDocsHomePage:!1,title:"Atom",description:"Atom \u6301\u6709\u5e94\u7528\u7684\u5b9e\u9645\u72b6\u6001\u3002\u53ef\u4ee5\u901a\u8fc7 Atom \u6765\u8fdb\u884c\u7ec4\u4ef6\u95f4\u7684\u72b6\u6001\u7684\u5171\u4eab\u3002",source:"@site/docs/tutorial/atom.mdx",slug:"/tutorial/Atom",permalink:"/rdx-doc/docs/tutorial/Atom",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/tutorial/atom.mdx",version:"current",sidebar:"someSidebar",previous:{title:"\u5982\u4f55\u5b89\u88c5\uff1f",permalink:"/rdx-doc/docs/introduce/installation"},next:{title:"Compute",permalink:"/rdx-doc/docs/tutorial/Compute"}},j=[{value:"\u901a\u8fc7atom\u8fdb\u884c\u7ec4\u4ef6\u95f4\u72b6\u6001\u7684\u5171\u4eab",id:"\u901a\u8fc7atom\u8fdb\u884c\u7ec4\u4ef6\u95f4\u72b6\u6001\u7684\u5171\u4eab",children:[]},{value:"Sample",id:"sample",children:[]}],O={toc:j};function k(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(d.b)("wrapper",Object(r.a)({},O,n,{components:t,mdxType:"MDXLayout"}),Object(d.b)("p",null,"Atom \u6301\u6709\u5e94\u7528\u7684\u5b9e\u9645\u72b6\u6001\u3002\u53ef\u4ee5\u901a\u8fc7 Atom \u6765\u8fdb\u884c\u7ec4\u4ef6\u95f4\u7684\u72b6\u6001\u7684\u5171\u4eab\u3002"),Object(d.b)("h3",{id:"\u901a\u8fc7atom\u8fdb\u884c\u7ec4\u4ef6\u95f4\u72b6\u6001\u7684\u5171\u4eab"},"\u901a\u8fc7atom\u8fdb\u884c\u7ec4\u4ef6\u95f4\u72b6\u6001\u7684\u5171\u4eab"),Object(d.b)("p",null,"\u901a\u8fc7atom()\u65b9\u6cd5\u6765\u5efa\u7acb\u4e00\u4e2a\u72b6\u6001\u8282\u70b9\uff0c\u72b6\u6001\u8282\u70b9\u9700\u8981\u4e00\u4e2a\u552f\u4e00\u7684id\uff0c\u5e76\u4e14\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u9ed8\u8ba4\u503c\u3002"),Object(d.b)("pre",null,Object(d.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const ColorAtom = atom({\n  id: 'color',\n  defaultValue: 'white',\n});\n")),Object(d.b)("p",null,"\u901a\u8fc7 useRdxValue \u8fd9\u4e2ahooks\u53ef\u4ee5\u83b7\u53d6\u5230ColorAtom\u4e2d\u7684\u72b6\u6001\u3002"),Object(d.b)("pre",null,Object(d.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const Canvas = () => {\n  const color = useRdxValue(ColorAtom);\n  return (\n    <div>\n      <div style={{ position: 'relative' }}>\n        <div\n          style={{\n            width: 435,\n            height: 435,\n            background: color,\n            border: '1px solid grey',\n          }}\n        />\n        <div style={{ position: 'absolute', top: 10, left: 10 }}>\n          <ThemeEditor />\n        </div>\n      </div>\n    </div>\n  );\n};\n")),Object(d.b)("p",null,"\u901a\u8fc7useRdxSetter \u8fd9\u4e2ahooks \u53ef\u4ee5\u83b7\u53d6\u5230\u4e00\u4e2asetter\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8bbe\u7f6eColorAtom\u7684\u72b6\u6001\u3002"),Object(d.b)("pre",null,Object(d.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const ThemeEditor = () => {\n  const setColor = useRdxSetter(ColorAtom);\n  const dataSource = ['#fff', '#000'];\n  return (\n    <div>\n      <div style={{ display: 'flex' }}>\n        {dataSource.map((item) => (\n          <div\n            onClick={() => {\n              setColor(item);\n            }}\n            style={{\n              marginLeft: 12,\n              border: '1px solid grey',\n              background: item,\n              width: 32,\n              height: 32,\n              borderRadius: '50%',\n            }}\n          ></div>\n        ))}\n      </div>\n      <div style={{ color: 'orange' }}>\u70b9\u51fb\u6211\u53ef\u4ee5\u5207\u6362\u753b\u5e03\u989c\u8272\u54e6!!</div>\n    </div>\n  );\n};\n")),Object(d.b)("p",null,"\u901a\u8fc7 useRdxState \u53ef\u4ee5\u540c\u65f6\u83b7\u53d6\u5230ColorAtom\u8282\u70b9\u7684\u72b6\u6001\u548csetter(\u8bbe\u7f6e\u5668)\u3002"),Object(d.b)("pre",null,Object(d.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const ColorEditor = () => {\n  const [color, setColor] = useRdxState(ColorAtom);\n  return (\n    <SketchPicker\n      color={color}\n      onChange={(v) => {\n        const { a, r, g, b } = v.rgb;\n        setColor(`rgba(${r},${g},${b},${a}`);\n      }}\n    />\n  );\n};\n")),Object(d.b)("h3",{id:"sample"},"Sample"),Object(d.b)(c.a,{code:"import React from 'react';\nimport {\n  atom,\n  RdxContext,\n  useRdxSetter,\n  useRdxState,\n  useRdxValue,\n} from '@alife/rdx';\nimport { SketchPicker } from 'react-color';\nconst ColorAtom = atom({\n  id: 'color',\n  defaultValue: 'white',\n});\n\nexport const AtomBgControlSample = () => {\n  return (\n    <RdxContext>\n      <div>\u70b9\u51fb\u50cfdevtools\u53d1\u9001\u6d88\u606f</div>\n      <div style={{ display: 'flex' }}>\n        <Canvas />\n        <ColorEditor />\n      </div>\n    </RdxContext>\n  );\n};\n\nconst Canvas = () => {\n  const color = useRdxValue(ColorAtom);\n  return (\n    <div>\n      <div style={{ position: 'relative' }}>\n        <div\n          style={{\n            width: 435,\n            height: 435,\n            background: color,\n            border: '1px solid grey',\n          }}\n        />\n        <div style={{ position: 'absolute', top: 10, left: 10 }}>\n          <ThemeEditor />\n        </div>\n      </div>\n    </div>\n  );\n};\nconst ThemeEditor = () => {\n  const setColor = useRdxSetter(ColorAtom);\n  const dataSource = ['#fff', '#000'];\n  return (\n    <div>\n      <div style={{ display: 'flex' }}>\n        {dataSource.map((item) => (\n          <div\n            key={item}\n            onClick={() => {\n              setColor(item);\n            }}\n            style={{\n              marginLeft: 12,\n              border: '1px solid grey',\n              background: item,\n              width: 32,\n              height: 32,\n              borderRadius: '50%',\n            }}\n          ></div>\n        ))}\n      </div>\n      <div style={{ color: 'orange' }}>\u70b9\u51fb\u6211\u53ef\u4ee5\u5207\u6362\u753b\u5e03\u989c\u8272\u54e6!!</div>\n    </div>\n  );\n};\n\nconst ColorEditor = () => {\n  const [color, setColor] = useRdxState(ColorAtom);\n  return (\n    <SketchPicker\n      color={color}\n      onChange={(v) => {\n        const { a, r, g, b } = v.rgb;\n        setColor(`rgba(${r},${g},${b},${a}`);\n      }}\n    />\n  );\n};\n",example:o,mdxType:"ExampleCustomizer"}))}k.isMDXComponent=!0}}]);