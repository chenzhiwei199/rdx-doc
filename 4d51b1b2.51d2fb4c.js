(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{124:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return S})),n.d(e,"metadata",(function(){return j})),n.d(e,"toc",(function(){return y})),n.d(e,"default",(function(){return v}));var a={};n.r(a),n.d(a,"Root",(function(){return b}));var o=n(3),r=n(7),u=n(0),s=n.n(u),d=n(182),c=n(196),l=n(595),i=n(835),p=n(829),x=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,o,r=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(a=r.next()).done;)u.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return u},m=Object(l.a)({id:"atom",defaultValue:1}),b=function(){return s.a.createElement(i.a,null,s.a.createElement(R,null),s.a.createElement(f,null))},f=function(){var t=Object(p.f)(m);return s.a.createElement("button",{onClick:function(){t(100)}},"\u8bbe\u7f6e\u4e3a100")},R=function(){var t=x(Object(p.g)(m),2),e=t[0],n=t[1];return s.a.createElement("span",{style:{display:"inline-flex",width:100,justifyContent:"space-around"}},s.a.createElement("button",{onClick:function(){n(e+1)}},"+"),s.a.createElement("span",null,e),s.a.createElement("button",{onClick:function(){n((function(t){return t-1}))}},"-"))},S={id:"useRdxSetter",title:"useRdxSetter(state)"},j={unversionedId:"api/useRdxSetter",id:"api/useRdxSetter",isDocsHomePage:!1,title:"useRdxSetter(state)",description:"\u4f1a\u6839\u636e\u5f53\u524d\u53c2\u6570\u7684 RdxState \u6765\u8fd4\u56de\u8bbe\u7f6e\u5668\uff0c\u901a\u8fc7\u8fd9\u4e2a\u8bbe\u7f6e\u5668\uff0c\u53ef\u4ee5\u4fee\u6539\u76f8\u5e94\u7684 RdxState \u7684\u503c\u3002",source:"@site/docs/api/useRdxSetter.mdx",slug:"/api/useRdxSetter",permalink:"/rdx-doc/docs/api/useRdxSetter",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/api/useRdxSetter.mdx",version:"current",sidebar:"someSidebar",previous:{title:"useRdxValueLoader(state)",permalink:"/rdx-doc/docs/api/useRdxValueLoader"},next:{title:"useRdxReset(state)",permalink:"/rdx-doc/docs/api/useRdxReset"}},y=[],C={toc:y};function v(t){var e=t.components,n=Object(r.a)(t,["components"]);return Object(d.b)("wrapper",Object(o.a)({},C,n,{components:e,mdxType:"MDXLayout"}),Object(d.b)("p",null,"\u4f1a\u6839\u636e\u5f53\u524d\u53c2\u6570\u7684 RdxState \u6765\u8fd4\u56de\u8bbe\u7f6e\u5668\uff0c\u901a\u8fc7\u8fd9\u4e2a\u8bbe\u7f6e\u5668\uff0c\u53ef\u4ee5\u4fee\u6539\u76f8\u5e94\u7684 RdxState \u7684\u503c\u3002"),Object(d.b)("hr",null),Object(d.b)("pre",null,Object(d.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"function useRdxState<GModel>(state: RdxState<GModel>): TNext<GModel>;\ntype TNext<GModel> = (value: GModel | ((oldValue: GModel) => GModel)) => void;\n")),Object(d.b)("ul",null,Object(d.b)("li",{parentName:"ul"},"state: \u53ef\u662f\u662f\u4e00\u4e2a atom \u6216\u8005\u662f\u4e00\u4e2a compute.")),Object(d.b)(c.a,{code:"import React from 'react';\nimport { atom, useRdxSetter, RdxContext, useRdxState } from '@alife/rdx';\n\nconst Atom = atom({\n  id: 'atom',\n  defaultValue: 1,\n});\n\nexport const Root = () => {\n  return (\n    <RdxContext>\n      <Counter />\n      <Set100 />\n    </RdxContext>\n  );\n};\nconst Set100 = () => {\n  const setState = useRdxSetter(Atom);\n  return (\n    <button\n      onClick={() => {\n        setState(100);\n      }}\n    >\n      \u8bbe\u7f6e\u4e3a100\n    </button>\n  );\n};\nconst Counter = () => {\n  const [state, setState] = useRdxState(Atom);\n  return (\n    <span\n      style={{\n        display: 'inline-flex',\n        width: 100,\n        justifyContent: 'space-around',\n      }}\n    >\n      {/* \u901a\u8fc7\u4f20\u9012\u65b0\u7684\u503c\u6765\u66f4\u65b0\u6570\u636e */}\n      <button\n        onClick={() => {\n          setState(state + 1);\n        }}\n      >\n        +\n      </button>\n      <span>{state}</span>\n      {/* \u901a\u8fc7\u4f20\u9012updated function \u6765\u66f4\u65b0\u6570\u636e */}\n      <button\n        onClick={() => {\n          setState((state) => {\n            return state - 1;\n          });\n        }}\n      >\n        -\n      </button>\n    </span>\n  );\n};\n",example:a,mdxType:"ExampleCustomizer"}))}v.isMDXComponent=!0}}]);