(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{103:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return l})),n.d(e,"metadata",(function(){return d})),n.d(e,"toc",(function(){return s})),n.d(e,"default",(function(){return b}));var a=n(3),o=n(7),r=(n(0),n(182)),c=n(196),i=n(547),u=n(548),l={id:"atom",title:"atom(options)"},d={unversionedId:"api/atom",id:"api/atom",isDocsHomePage:!1,title:"atom(options)",description:"atom \u5728 Rdx \u4e2d\u4ee3\u8868\u4e00\u4e2a\u72b6\u6001\u3002atom() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u8bfb\u5199\u7684 RdxState\u3002",source:"@site/docs/api/atom.mdx",slug:"/api/atom",permalink:"/rdx-doc/docs/api/atom",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/api/atom.mdx",version:"current",sidebar:"someSidebar",previous:{title:"RdxContext",permalink:"/rdx-doc/docs/api/RdxContext"},next:{title:"compute(state)",permalink:"/rdx-doc/docs/api/compute"}},s=[{value:"Example",id:"example",children:[]}],m={toc:s};function b(t){var e=t.components,n=Object(o.a)(t,["components"]);return Object(r.b)("wrapper",Object(a.a)({},m,n,{components:e,mdxType:"MDXLayout"}),Object(r.b)("p",null,"atom \u5728 Rdx \u4e2d\u4ee3\u8868\u4e00\u4e2a\u72b6\u6001\u3002atom() \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u8bfb\u5199\u7684 RdxState\u3002"),Object(r.b)("hr",null),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-jsx"}),"function atom<T>({\n  id: string,\n  defaultValue: T | Promise<T> | RdxState<T>,\n}): RdxState<T>\n")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"id \u4e00\u4e2a\u552f\u4e00\u7684\u5b57\u7b26\u4e32\uff0c\u7528\u6765\u5728 RdxContext \u4e0b\u6807\u8bb0\u4e00\u4e2a\u552f\u4e00\u7684 atom \u72b6\u6001\u3002"),Object(r.b)("li",{parentName:"ul"},"defaultValue \u5f53 atom \u5728 RdxContext \u4e0b\u521d\u59cb\u5316\u65f6\u7684\u9ed8\u8ba4\u503c\u3002")),Object(r.b)("hr",null),Object(r.b)("p",null,"\u901a\u5e38\u7684\u65f6\u5019\uff0catom \u53ef\u4ee5\u914d\u5408\u4e00\u4e0b hooks \u4e00\u8d77\u4f7f\u7528"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/api/useRdxState"}),Object(r.b)("inlineCode",{parentName:"a"},"useRdxState()"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/api/useRdxStateLoader"}),Object(r.b)("inlineCode",{parentName:"a"},"useRdxStateLoader()"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/api/useRdxSetter"}),Object(r.b)("inlineCode",{parentName:"a"},"useRdxSetter()"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/api/useRdxReset"}),Object(r.b)("inlineCode",{parentName:"a"},"useRdxReset()")))),Object(r.b)("hr",null),Object(r.b)("h3",{id:"example"},"Example"),Object(r.b)(c.a,{code:u.a,example:i,mdxType:"ExampleCustomizer"}))}b.isMDXComponent=!0},547:function(t,e,n){"use strict";n.r(e),n.d(e,"Root",(function(){return d}));var a=n(0),o=n.n(a),r=n(595),c=n(835),i=n(829),u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,o,r=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(a=r.next()).done;)c.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return c},l=Object(r.a)({id:"atom",defaultValue:1}),d=function(){return o.a.createElement(c.a,null,o.a.createElement(s,null))},s=function(){var t=u(Object(i.g)(l),2),e=t[0],n=t[1];return o.a.createElement("div",{style:{display:"flex",width:100,justifyContent:"space-around"}},o.a.createElement("button",{onClick:function(){n(e+1)}},"+"),o.a.createElement("span",null,e),o.a.createElement("button",{onClick:function(){n((function(t){return t-1}))}},"-"))}},548:function(t,e,n){"use strict";e.a="import React from 'react';\nimport { atom, useRdxState, RdxContext } from '@alife/rdx';\n\nconst Atom = atom({\n  id: 'atom',\n  defaultValue: 1,\n});\n\nexport const Root = () => {\n  return (\n    <RdxContext>\n      <Counter />\n    </RdxContext>\n  );\n};\nconst Counter = () => {\n  const [state, setState] = useRdxState(Atom);\n  return (\n    <div\n      style={{ display: 'flex', width: 100, justifyContent: 'space-around' }}\n    >\n      {/* \u901a\u8fc7\u4f20\u9012\u65b0\u7684\u503c\u6765\u66f4\u65b0\u6570\u636e */}\n      <button\n        onClick={() => {\n          setState(state + 1);\n        }}\n      >\n        +\n      </button>\n      <span>{state}</span>\n      {/* \u901a\u8fc7\u4f20\u9012updated function \u6765\u66f4\u65b0\u6570\u636e */}\n      <button\n        onClick={() => {\n          setState((state) => {\n            return state - 1;\n          });\n        }}\n      >\n        -\n      </button>\n    </div>\n  );\n};\n"}}]);