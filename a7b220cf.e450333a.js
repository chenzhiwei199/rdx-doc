(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{150:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return h})),n.d(e,"metadata",(function(){return y})),n.d(e,"toc",(function(){return g})),n.d(e,"default",(function(){return x}));var r={};n.r(r),n.d(r,"\u663e\u793a\u9690\u85cf\u63a7\u5236",(function(){return m}));var o=n(3),a=n(7),i=n(0),c=n.n(i),u=n(201),l=n(219),s=n(215),f=n(454),p=function(t){var e=t.value,n=t.onChange;return t.preview?e||"\u6682\u65e0\u6570\u636e":c.a.createElement("input",{value:e,onChange:function(t){n(t.target.value)}})},d=Object(s.a)({components:{numberInput:function(t){var e=t.value,n=t.onChange;return c.a.createElement("input",{value:e,type:"number",onChange:function(t){n(t.target.value)}})},input:p,string:p,select:function(t){var e=t.value,n=t.onChange,r=t.componentProps.dataSource,o=void 0===r?[]:r;return c.a.createElement("select",{value:e,onChange:function(t){n("true"===t.target.value)}},o.map((function(t){return c.a.createElement("option",{value:t.value},t.label)})))},checkbox:function(t){var e=t.value,n=t.onChange;t.preview;return c.a.createElement("input",{type:"checkbox",checked:e,onChange:function(t){n(t.target.checked)}})}}})(),b=d.FormItem,v=d.RdxFormRoot,m=(d.createFormStore,function(){return c.a.createElement(v,{enabledStatePreview:!0,JsonView:f.a,autoValidate:!0},c.a.createElement(b,{type:"boolean",title:"\u63a7\u5236\u7701\u4efd\u663e\u793a\u9690\u85cf checkbox\u5c55\u793a",name:"show",componentType:"checkbox"}),c.a.createElement(b,{type:"boolean",title:"\u63a7\u5236\u7701\u4efd\u663e\u793a\u9690\u85cf \u4e0b\u62c9\u6846\u5c55\u793a",name:"show",componentProps:{dataSource:[{label:"\u9690\u85cf",value:!1},{label:"\u663e\u793a",value:!0}]},alias:"test",componentType:"select"}))}),h={id:"shareState",title:"\u4e0d\u540c\u89c6\u56fe\u5171\u4eab\u4e00\u4efd\u72b6\u6001"},y={unversionedId:"rdx-form/tutorials/shareState",id:"rdx-form/tutorials/shareState",isDocsHomePage:!1,title:"\u4e0d\u540c\u89c6\u56fe\u5171\u4eab\u4e00\u4efd\u72b6\u6001",description:"\u901a\u8fc7FormItem\u7684alias\u5c5e\u6027\uff0c \u53ef\u4ee5\u8ba9\u4e00\u4efd\u72b6\u6001\u6709\u591a\u79cd\u4e0d\u540c\u7684\u5c55\u793a\u5f62\u5f0f\u3002",source:"@site/docs/rdx-form/tutorials/shareState.mdx",slug:"/rdx-form/tutorials/shareState",permalink:"/rdx-doc/docs/rdx-form/tutorials/shareState",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/rdx-form/tutorials/shareState.mdx",version:"current",sidebar:"someSidebar",previous:{title:"ArrayTable&ArrayCard",permalink:"/rdx-doc/docs/rdx-form/tutorials/hippo-forms-library/ArrayTable"},next:{title:"\u4e00\u4e2a\u89c6\u56fe\u5173\u8054\u591a\u4e2a\u72b6\u6001",permalink:"/rdx-doc/docs/rdx-form/tutorials/shareComponent"}},g=[{value:"Sample",id:"sample",children:[]}],O={toc:g};function x(t){var e=t.components,n=Object(a.a)(t,["components"]);return Object(u.b)("wrapper",Object(o.a)({},O,n,{components:e,mdxType:"MDXLayout"}),Object(u.b)("p",null,"\u901a\u8fc7FormItem\u7684alias\u5c5e\u6027\uff0c \u53ef\u4ee5\u8ba9\u4e00\u4efd\u72b6\u6001\u6709\u591a\u79cd\u4e0d\u540c\u7684\u5c55\u793a\u5f62\u5f0f\u3002"),Object(u.b)("h3",{id:"sample"},"Sample"),Object(u.b)(l.a,{code:"import React, { useRef } from 'react';\nimport { IFormComponentProps, formBuilder } from '@alife/rdx-form';\nimport JsonView from 'react-inspector';\n\nconst CheckBox = (props: IFormComponentProps<any>) => {\n  const { value, onChange, preview } = props;\n  return (\n    <input\n      type='checkbox'\n      checked={value}\n      onChange={(event) => {\n        onChange(event.target.checked);\n      }}\n    ></input>\n  );\n};\n\nconst NumberInput = (props: IFormComponentProps<any>) => {\n  const { value, onChange } = props;\n  return (\n    <input\n      value={value}\n      type='number'\n      onChange={(event) => {\n        onChange(event.target.value);\n      }}\n    ></input>\n  );\n};\nconst Input = (props: IFormComponentProps<any>) => {\n  const { value, onChange, preview } = props;\n  if (preview) {\n    return value || '\u6682\u65e0\u6570\u636e';\n  }\n  return (\n    <input\n      value={value}\n      onChange={(event) => {\n        onChange(event.target.value);\n      }}\n    ></input>\n  );\n};\nconst Select = (\n  props: IFormComponentProps<{\n    dataSource: { label: string; value: any }[];\n  }>\n) => {\n  const { value, onChange, componentProps } = props;\n  const { dataSource = [] } = componentProps;\n  return (\n    <select\n      value={value}\n      onChange={(event) => {\n        onChange(event.target.value === 'true');\n      }}\n    >\n      {dataSource.map((item) => (\n        <option value={item.value}>{item.label}</option>\n      ))}\n    </select>\n  );\n};\n// \u901a\u8fc7\u6ce8\u518c\u7ec4\u4ef6\uff0c\u521b\u5efaformBuilder\nconst formFn = formBuilder({\n  components: {\n    numberInput: NumberInput,\n    input: Input,\n    string: Input,\n    select: Select,\n    checkbox: CheckBox,\n  },\n});\n// \u901a\u8fc7\u6a21\u578b\u5b9a\u4e49\uff0c\u521b\u5efa\u5e26\u6a21\u578b\u542b\u4e49\u7684\u8868\u5355\nconst AreaForms = formFn<{\n  unit: number;\n  amount: number;\n  total: number;\n  show: boolean;\n  province: string;\n  city: string;\n}>();\nconst { FormItem, RdxFormRoot, createFormStore } = AreaForms;\n\nexport const \u663e\u793a\u9690\u85cf\u63a7\u5236 = () => {\n  return (\n    <RdxFormRoot\n      enabledStatePreview={true}\n      JsonView={JsonView}\n      autoValidate={true}\n    >\n      <FormItem\n        type='boolean'\n        title='\u63a7\u5236\u7701\u4efd\u663e\u793a\u9690\u85cf checkbox\u5c55\u793a'\n        name='show'\n        componentType='checkbox'\n      ></FormItem>\n      <FormItem\n        type='boolean'\n        title='\u63a7\u5236\u7701\u4efd\u663e\u793a\u9690\u85cf \u4e0b\u62c9\u6846\u5c55\u793a'\n        name='show'\n        componentProps={{\n          dataSource: [\n            {\n              label: '\u9690\u85cf',\n              value: false,\n            },\n            {\n              label: '\u663e\u793a',\n              value: true,\n            },\n          ],\n        }}\n        alias={'test'}\n        componentType='select'\n      />\n    </RdxFormRoot>\n  );\n};\n",example:r,mdxType:"ExampleCustomizer"}))}x.isMDXComponent=!0},182:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return d}));var r,o=n(192),a=n(199),i=(n(183),function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}),c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},u=function(){function t(t){this.store={},this.store=t}return t.prototype.clone=function(){return new t(this.store)},t.prototype.merge=function(t){throw new Error("Method not implemented.")},t.prototype.remove=function(t,e){this.store=Object(a.b)(this.store,(function(e){Object(o.d)(e,t,void 0)}))},t.prototype.update=function(t,e,n){this.store=Object(a.b)(this.store,(function(n){Object(o.d)(n,t,e)}))},t.prototype.get=function(t,e){return Object(o.c)(this.store,t)},t.prototype.getAll=function(){return this.store},t}();function l(t){return void 0===t&&(t=""),t.split("|")}function s(t){return void 0===t&&(t=""),t.includes("|")}function f(t,e,n){return e?e+"$$"+t+(n?"$$"+n:""):t}function p(t){if(t.includes("$$")){var e=t.split("$$");return{type:e[0],id:e[1],alias:e[2]}}return{id:t}}function d(t,e){return Object.keys(e).filter((function(t){return t.startsWith(r.Compute+"$$")})).reduce((function(t,n){var r=p(n),a=r.id,i=(r.alias,r.type,a.split(".")),u=i[i.length-1];return u.includes("|")?u.split("|").forEach((function(r,a){var u=c(i.slice(0,i.length-1),[r]).join(".");e[n].value?Object(o.d)(t,u,e[n].value[a]):Object(o.d)(t,u,void 0)})):Object(o.d)(t,a,e[n].value),t}),JSON.parse(JSON.stringify(t)))}!function(t){t.ValueIntercepter="StateIntercepter",t.EditState="editState",t.Compute="compute",t.Status="status",t.Error="error",t.Rule="rule"}(r||(r={}))},183:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t.Object="object",t.Array="array",t.String="string",t.Number="number",t.Boolean="boolean"}(r||(r={}));var a,i=o({},r);!function(t){t.Loading="loading",t.Error="error"}(a||(a={}))},190:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return p}));var r=n(0),o=(n(892),n(485),n(193)),a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},i=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};function c(t){return"function"==typeof t}var u=function(){var t=Object(r.useContext)(o.a).paths;return(void 0===t?[]:t).join(".")};function l(t,e){return i(e,[t]).join(".")}function s(t){var e=[];return Array.isArray(t)||(e=t.split(".")),e}function f(t){var e=s(t);return e[e.length-1]}function p(t){var e=s(t);return e.slice(0,e.length-1)}},192:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return p}));var r=n(0),o=n.n(r),a=n(190),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function u(t){var e=t.type,n=t.defaultValue;return null!=n?Object(a.d)(n)?n():n:"array"===e?[]:"object"===e?{}:"string"===e?"":void 0}function l(t){var e=[];return o.a.Children.forEach(t,(function(t,n){e.push(t.props)})),e}function s(t){var e={};return o.a.Children.forEach(t,(function(n,r){0===r&&(e="object"===n.props.type?i(i({},n.props),{childrenPropsInfo:l(t)}):n.props)})),e}function f(t,e,n){var r,o,a=(""+e).split(".");if(!(a&&a.length>0))return t;var i=t,u=0;try{for(var l=c(a),s=l.next();!s.done;s=l.next()){var f=s.value;if(u===a.length-1)return void 0===i[f]?n:i[f];if(void 0===i[f])return n;i=i[f],u++}}catch(p){r={error:p}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}function p(t,e,n){var r,o;void 0===t&&(t={});var a=(""+e).split(".");if(a&&a.length>0){var i=t,u=0;try{for(var l=c(a),s=l.next();!s.done;s=l.next()){var f=s.value;u===a.length-1?i[f]=n:(void 0===i[f]&&(i[f]={}),i=i[f]),u++}}catch(p){r={error:p}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}return t}},193:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n(0),o=n.n(r).a.createContext({paths:[]});function a(){var t=Object(r.useContext)(o).paths;return{paths:t,parentPaths:t.slice(0,t.length-1)}}},207:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(192),o=n(892),a=n(190),i=n(183),c=n(182),u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t};function s(t,e){var n=Object(a.e)(),u=Object(o.c)(),s=function(){return u.getTaskStateById(n)||{}||[]},f=Object(r.a)(e);function p(t){var e=function(t){return f.type===i.a.Object||f.type===i.a.Array?new RegExp("(^"+n+"."+t+".(.+))|(^"+n+"."+t+"$)"):new RegExp("^"+n+"."+t+"$")}(t);return Array.from(u.getTasks().keys()).filter((function(t){return e.test(t)}))}function d(t){for(var e=t;e<s().length-1;e++)y(e,e+1)}function b(t){for(var e=s().length;e>t;e--)console.log("tempIndex: ",e-1,e),y(e-1,e)}function v(t){p(t).reverse().forEach((function(t){u.removeTask(t),u.removeTask(Object(c.e)(t,c.a.Error)),u.removeTask(Object(c.e)(t,c.a.ValueIntercepter)),u.removeTask(Object(c.e)(t,c.a.Status)),u.removeTask(Object(c.e)(t,c.a.EditState)),u.removeTask(Object(c.e)(t,c.a.Compute))})),u.removeTask(n+"."+t)}function m(t){return p(t).reverse().reduce((function(t,e){return[e,Object(c.e)(e,c.a.Status),Object(c.e)(e,c.a.EditState)].forEach((function(e){t.rdxStates[e]=u.getCacheRdxInstanceById(e),t.tasks[e]=u.getTaskById(e),t.states[e]=u.getTaskStateById(e),t.status[e]=u.getTaskStatusById(e),t.cacheValues[e]=u.getCacheComputeValueById(e)})),t}),{cacheValues:{},status:{},rdxStates:{},tasks:{},states:{}})}function h(t,e){Object.keys(t.rdxStates).forEach((function(r){var o=function(t,e){var r=Object(c.d)(t),o=r.type,a=r.id,i=r.alias,u=n.split("."),s=a.split("."),f=l(u,[e],s.slice(u.length+1)).join(".");return Object(c.e)(f,o,i)}(r,e);console.log("state.tasks[key]: ",t.tasks[r]),t.tasks[r].virtual?u.setVirtualTaskStateById(o,t.states[r]):u.setTaskStateById(o,t.states[r]),u.setTaskStatusById(o,t.status[r])}))}var y=function(t,e){var n=m(t),r=m(e);v(t),v(e),h(n,e),h(r,t)};return{getEmptyValue:function(){return Object(r.b)(e.props)},insert:function(e,n){b(e),t(l(s().slice(0,e),[n],s().slice(e+1)))},unshift:function(e){b(0),t(l([e],s().slice(1)))},shift:function(){d(0),t(s().slice(0,s().length-1))},push:function(e){t(l(s(),[e]))},remove:function(e){d(e),v(s().length-1),t(s().slice(0,s().length-1))},pop:function(){v(s().length-1),t(s().slice(0,s().length-1))},moveDown:function(e){e+1>s().length||(y(e,e+1),t(l(s())))},moveUp:function(e){e-1<0||(y(e-1,e),t(l(s())))},clear:function(){for(var e=0;e<s().length;e++)v(e);t([])},move:function(t,e){y(t,e),function(t,e){for(var n=[],r=t;r<e;r++)n=n.concat(p(r));u.notifyDownStreamPoints(n.map((function(t){return{key:t,downStreamOnly:!0}})))}(t,e+1)}}}},211:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return u}));var r,o,a=n(0);!function(t){t.Grid="grid",t.Inline="inline",t.Classic="classic",t.Base="base"}(r||(r={})),function(t){t.Left="left",t.Right="right",t.Top="top"}(o||(o={}));var i=Object(a.createContext)({});function c(t,e){return void 0===e&&(e=24),t/e*100+"%"}function u(t,e){void 0===e&&(e=!0);var n=Object(a.useContext)(i),u=n.layoutType,l=void 0===u?r.Base:u,s=n.columns,f=void 0===s?24:s,p=n.labelWidth,d=n.labelTextAlign,b=void 0===d?"right":d,v=n.labelCol,m=void 0===v?8:v,h=n.wrapWidth,y=n.wrapCol,g=void 0===y?16:y,O={},x={},j={};return l===r.Base?(O.display="flex",b===o.Top?O.flexDirection="column":x.textAlign=b,x.flexGrow=0,j.flex=1):l===r.Classic?(O.display="flex",b===o.Top?(O.flexDirection="column",x.textAlign="left"):x.textAlign=b,x.flex="0 0 "+c(m),j.flex="0 0 "+c(e?g:g+m),j.overflow="hidden"):l===r.Inline?(O.display="inline-block",b!==o.Right&&b!==o.Left||(x.display="inline-block",j.display="inline-block",x.textAlign=b),x.width=p,j.width=h,j.marginRight=20):l===r.Grid&&(O.display="flex",O.flex=x.flex="0 0 "+c(t,f),b===o.Top?(O.flexDirection="column",x.textAlign="left"):x.textAlign=b,x.flex="0 0 "+c(m),j.flex="0 0 "+c(g)),{containerStyle:O,labelStyle:x,contentStyle:j}}},213:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p}));var r=n(0),o=n.n(r),a=n(181),i=n(183),c=n(214),u=n(211),l=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},s={TitleComponent:function(t){var e=t.title,n=t.require,r=t.showTitle,a=void 0===r||r,i=t.tips,c=t.layoutExtends,l=void 0===c?{}:c,s=t.tipsPosition,f=void 0===s?"after":s,p=Object(u.d)(l.span,a&&!!e).labelStyle;return o.a.createElement(o.a.Fragment,null,e&&a&&o.a.createElement(g,{style:p,require:n,className:"rdx-form-item-label"},e,i&&"before"===f&&o.a.createElement(v,{tips:i})))},ContentComponent:function(t){var e=t.children,n=t.title,r=t.showTitle,a=void 0===r||r,i=t.tips,c=t.layoutExtends,l=void 0===c?{}:c,s=t.tipsPosition,f=void 0===s?"after":s,p=Object(u.d)(l.span,a&&!!n).contentStyle;return o.a.createElement(O,{style:p,className:"rdx-form-item-content"},o.a.createElement("span",null,e,i&&"after"===f&&o.a.createElement(v,{tips:i})),o.a.createElement(b,{msg:t.desc}),o.a.createElement(d,{msg:t.errorMsg}),o.a.createElement(d,{msg:(t.formErrorMsg||[]).join(",")}))},WrapperComponent:function(t){var e=t.type,n=t.children,r=t.id,a=t.layoutExtends,c=void 0===a?{}:a,l=Object(u.d)(c.span).containerStyle;return o.a.createElement(x,{"data-id":r,useMargin:e!==i.a.Object,style:l,className:"rdx-form-item"},n)}},f=o.a.createContext(s);function p(){return o.a.useContext(f)}function d(t){return o.a.createElement("div",{title:t.msg,style:{color:"red",width:"100%",maxHeight:32,maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.msg)}function b(t){return o.a.createElement("div",{style:{color:"#999999"}},t.msg)}function v(t){var e=t.tips;return o.a.createElement(c.a,{trigger:o.a.createElement("span",{style:{verticalAlign:"middle",paddingLeft:"6px"}},o.a.createElement("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14"},o.a.createElement("path",{d:"M512 1024C229.069 1024 0 794.829 0 512S229.069 0 512 0c282.931 0 512 229.171 512 512s-229.069 512-512 512z m-0.034-93.12c231.073 0.066 418.98-187.942 418.913-418.914 0.067-230.904-187.84-418.912-418.913-418.912-231.005 0-418.912 187.907-418.912 418.912 0 231.073 187.907 418.98 418.912 418.913z m-46.511-651.607h93.09v93.09h-93.09v-93.09z m93.09 465.445h-93.09V465.455h93.09v279.263z",fill:"#8a8a8a","p-id":"1386"})))},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}}))}var m,h,y,g=a.c.div(m||(m=l(["\n  line-height: 28px;\n  vertical-align: top;\n  color: #666666;\n  display: inline-block;\n  text-align: right;\n  padding-right: 12px;\n  line-height: 28px;\n  ::before {\n    display: ",";\n    content: '*';\n    color: #ff3000;\n    margin-right: 4px;\n  }\n"],["\n  line-height: 28px;\n  vertical-align: top;\n  color: #666666;\n  display: inline-block;\n  text-align: right;\n  padding-right: 12px;\n  line-height: 28px;\n  ::before {\n    display: ",";\n    content: '*';\n    color: #ff3000;\n    margin-right: 4px;\n  }\n"])),(function(t){return t.require?"visible":"none"})),O=a.c.div(h||(h=l(["\n  line-height: 28px;\n  /* flex:  */\n"],["\n  line-height: 28px;\n  /* flex:  */\n"]))),x=a.c.div(y||(y=l(["\n  border: 1px dashed transparent;\n  padding-bottom: ","px;\n"],["\n  border: 1px dashed transparent;\n  padding-bottom: ","px;\n"])),(function(t){return t.useMargin?12:0}))},214:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),o=n.n(r),a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function i(t){var e=t.trigger,n=a(Object(r.useState)(!1),2),i=n[0],c=n[1],u=a(Object(r.useState)(1),2),l=(u[0],u[1]),s=Object(r.useRef)(null),f=Object(r.useRef)(null),p=Object(r.useRef)(null);Object(r.useEffect)((function(){return function(){clearTimeout(s.current)}}));var d=Object(r.useCallback)((function(){s.current=setTimeout((function(){c(!0)}),300)}),[]),b=Object(r.useCallback)((function(){clearTimeout(s.current),c(!1)}),[]);Object(r.useEffect)((function(){l((function(t){return t+1}))}),[f.current,i]);return o.a.createElement("span",{onMouseEnter:d,onMouseLeave:b},o.a.createElement("span",{className:"tooltip-trigger",ref:f},e),i&&o.a.createElement("div",{ref:p,style:{position:"absolute",opacity:p.current?1:0,background:"#333",boxShadow:"0 8px 16px 0 rgba(0,0,0,.08)",color:"white",left:function(){var t=f.current.getBoundingClientRect(),e=t.x,n=t.width;return e-(p.current?p.current.getBoundingClientRect():{width:0}).width/2+n/2}(),maxWidth:"300px",textAlign:"left",zIndex:10,borderRadius:"2px",lineHeight:"14px",padding:"12px 12px 12px 12px"}},t.children,o.a.createElement("div",{style:{position:"absolute",width:"8px",height:"8px",left:"calc(50% - 4px)",top:"-4px",boxShadow:"-1px -1px 1px 0 rgba(0,0,0,.1)",transform:"rotate(45deg)",background:"#333"}})))}},215:function(t,e,n){"use strict";n.d(e,"a",(function(){return nt}));var r=n(0),o=n.n(r),a=n(892),i=n(485),c=n(479),u=n(899),l=n(193),s=o.a.createContext({}),f=n(192),p=n(183),d=n(213),b=n(190),v=n(182),m=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},h=function(t){var e=t.data;return o.a.createElement("pre",null,JSON.stringify(e,null,2))},y=function(t){var e=m(Object(r.useState)(!1),2),n=e[0],i=e[1],c=t.JsonView,u=void 0===c?h:c,l=Object(a.d)(),s=Object(a.b)(),f=Object(v.c)(l,s);return o.a.createElement("div",{style:{position:"relative"}},o.a.createElement("div",{onClick:function(){i(!n)},style:{background:"blue",right:30,display:"flex",alignItems:"center",color:"white",justifyContent:"center",borderRadius:"5%",width:100,height:32}},"\u67e5\u770b\u6570\u636e"),o.a.createElement("div",{style:{position:"absolute",background:"white",opacity:n?1:0,maxWidth:n?400:0,maxHeight:n?400:0,overflow:"auto",zIndex:100,boxShadow:"0 0 8px 0 rgba(153, 163, 179, 0.28)",borderRadius:4,width:400,height:400,transition:"all 0.5s",padding:24}},o.a.createElement("h3",null,"\u8868\u5355\u8f93\u5165\u6570\u636e"),o.a.createElement("div",{style:{overflow:"auto"}},o.a.createElement("strong",null,"\u72b6\u6001\u6570\u636e"),o.a.createElement(u,{data:l}),o.a.createElement("strong",null,"\u884d\u751f\u72b6\u6001\u6570\u636e"),o.a.createElement(u,{data:f}))))};var g=o.a.createContext(null);function O(){return Object(r.useContext)(g)}var x=n(714),j=n(604),w=Object.prototype.hasOwnProperty,S=Object.prototype.toString;function E(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!1;if("string"==typeof t)return 0===t.length;if("function"==typeof t)return 0===t.length;if(Array.isArray(t)){if(0===t.length)return!0;for(var e=0;e<t.length;e++)if(void 0!==t[e]&&null!==t[e]&&""!==t[e]&&0!==t[e])return!1;return!0}if(t instanceof Error)return""===t.message;if(t.toString===S)switch(t.toString()){case"[object File]":case"[object Map]":case"[object Set]":return 0===t.size;case"[object Object]":for(var n in t)if(w.call(t,n))return!1;return!0}return!1}function C(t){return function(t){return void 0===t&&(t=[]),t.filter((function(t){return!E(t)}))}(t).length>0}var k=function(){return(k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(e){a(e)}}function c(t){try{u(r.throw(t))}catch(e){a(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},T=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function P(t){function e(e){return I(this,void 0,void 0,(function(){var n,r,o;return T(this,(function(a){return n=e.map((function(e){return{id:e,value:t.getTaskStateById(Object(v.e)(e,v.a.EditState))}})),(r=n.filter((function(t){return!t.value.modify}))).forEach((function(e){var n=e.id,r=e.value;t.updateState(Object(v.e)(n,v.a.EditState),c.a.Update,c.d.TaskState,k(k({},r),{modify:!0}))})),r.length>0?(o=t.watchOnce(e.map((function(t){return Object(v.e)(t,v.a.Error)}))),t.notifyDownStreamPoints(r.map((function(t){return{key:Object(v.e)(t.id,v.a.EditState),downStreamOnly:!0}}))),[2,o]):[2,n.map((function(e){return t.getTaskStateById(Object(v.e)(e.id,v.a.Error))}))]}))}))}return function(n){var r=n;if(r)return Array.isArray(r)?e(r).then((function(t){return{isError:C(t),errorMsg:r.map((function(e,n){return{msg:t[n],id:e}}))}})):e([r]).then((function(t){return{isError:C(t),errorMsg:{msg:t[0],id:r}}}));var o=Array.from(t.getTasks().keys()).filter((function(t){return new RegExp("^"+v.a.EditState+"\\$\\$.+").test(t)})).map((function(t){return t.match(new RegExp("^"+v.a.EditState+"\\$\\$(.+)"))[1]}));return e(o).then((function(t){return{isError:C(t),errorMsg:o.map((function(e,n){return{msg:t[n],id:e}}))}}))}}var V=n(218),A=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(e){a(e)}}function c(t){try{u(r.throw(t))}catch(e){a(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},F=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};var R=function(){function t(t){void 0===t&&(t={}),this.subscribeMap=new Map,this.globalSubscribeSet=new Set,this._initState=t}return t.prototype.setValue=function(t,e){return this.context.batchNext(t.getId(),e)},t.prototype.getComputeState=function(){return Object(v.c)(this.context.getTaskState().store,this.context.getVirtualTaskState())},t.prototype.getState=function(){return this.context.getAllTaskState()},t.prototype._initContext=function(t){this.context=t},t.prototype.subscribeAll=function(t){var e=this;this.globalSubscribeSet.add(t),this.context.getEventEmitter().addListener(c.b.GlobalState,(function(){e.globalSubscribeSet.has(t)&&t&&t(e.getComputeState())}))},t.prototype.unsubscribeAll=function(t){this.globalSubscribeSet.delete(t)},t.prototype.subscribe=function(t,e){var n=this,r=Object(x.c)(t),o="subscribe/"+Object(V.v1)(),i=function(){e&&e(n.context.getTaskStateById(o))};if(this.subscribeMap.has(r.getId()))this.subscribeMap.get(r.getId()).set(e,{computeId:o,emCallback:i});else{var u=new Map;u.set(e,{computeId:o,emCallback:i}),this.subscribeMap.set(r.getId(),u)}Object(j.a)({id:o,get:function(t){var e=t.get;return e(r)}}).load(this.context),this.context.getEventEmitter().addListener(Object(a.a)(o,c.b.State),i)},t.prototype.unsubscribe=function(t,e){var n=this,r=Object(x.c)(t);if(this.subscribeMap.has(r.getId()))if(e){var o=this.subscribeMap.get(r.getId()).get(e)||{},i=o.computeId,u=o.emCallback;this.context.getEventEmitter().removeListener(Object(a.a)(i,c.b.State),u),this.context.removeTask(i)}else Array.from(this.subscribeMap.get(r.getId()).values()).forEach((function(t){n.context.getEventEmitter().removeListener(Object(a.a)(t.computeId,c.b.State),t.emCallback),n.context.removeTask(t.computeId)}))},t.prototype.reset=function(t){},t.prototype.setFormValue=function(t,e){this.context.batchNext(t,e)},t.prototype.setFormStatus=function(t,e){var n=t;this.context.batchNext(Object(v.e)(n,v.a.Status),e)},t.prototype.setFormCompute=function(t,e){var n=t;this.context.batchNext(Object(v.e)(n,v.a.Compute),e)},t.prototype.validate=function(t){return A(this,void 0,void 0,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,P(this.context)(t)];case 1:return[2,e.sent()]}}))}))},t}(),M=n(600),B=n(515),$=n(516),L=function(){return(L=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},N=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(e){a(e)}}function c(t){try{u(r.throw(t))}catch(e){a(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}u((r=r.apply(t,e||[])).next())}))},J=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},q=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},z=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},D=function(t){var e=H(t),n=function(t){var e=t.name,n=t.type,r=t.defaultValue,o=Object(M.a)({virtual:Object(v.f)(e),id:W(e),defaultValue:Object(f.b)({type:n,defaultValue:r})});return Object(j.a)({id:Object(v.e)(W(e),v.a.ValueIntercepter),get:function(t){var e=t.get;return e(o)},set:function(t,e){var n=t.get,r=t.set,a=t.id,c=Object(i.f)({id:Object(v.e)(Object(v.d)(a).id,v.a.EditState)});n(c).modify||r(c,(function(t){return L(L({},t),{modify:!0})})),r(o,e)}})}(t),o=function(t){var e=Object(r.useContext)(l.a).paths,n=t.name,o=Object(b.a)(n,e);return Object(v.f)(n)?Object(v.g)(n).map((function(n,r){var a=Object(b.a)(n,e),c=Object(M.a)({id:a,defaultValue:Object(f.b)(t)[r]});return Object(j.a)({id:Object(v.e)(a,v.a.ValueIntercepter),get:function(t){var e=t.get;return e(c)},set:function(t,e){var n=t.get,r=t.set;n(Object(i.f)({id:Object(v.e)(o,v.a.EditState)})).modify||r(Object(i.f)({id:Object(v.e)(o,v.a.EditState)}),(function(t){return L(L({},t),{modify:!0})})),r(c,e)}})})):[]}(t),a=t.name;return function(t){if(Object(v.f)(a)){t.get(n);var r=o.map((function(e){return t.get(e)}));return L(L({},t.get(e)),{value:r})}return L(L({},t.get(e)),{value:t.get(n)})}};function W(t){var e=Object(r.useContext)(l.a).paths;return Object(b.a)(t,e)}function G(t){var e=t.visible,n=void 0===e||e,r=t.preview,o=void 0!==r&&r,a=t.disabled,i=void 0!==a&&a,c=t.require,u=void 0!==c&&c,l=t.componentProps,s=void 0===l?{}:l,f=t.layoutExtends;return{visible:n,preview:o,disabled:i,require:u,componentProps:s,layoutExtends:void 0===f?{}:f}}function H(t){var e=t.name,n=t.alias;return Object(M.a)({virtual:!0,id:Object(v.e)(W(e),v.a.Status,n),defaultValue:G(t)})}var _=function(t,e){return function(e,n){return Object(i.e)(e)?t.get(e):"string"==typeof e?t.get(Object(i.f)({id:Object(v.e)(e,v.a.Compute,n)})):void 0}};var U=function(t){return function(e,n,r){if(e instanceof i.b)t.set(e,n);else if("string"==typeof e)try{var o=Object(b.b)(e),a=Object(v.f)(o),c=Object(v.g)(o);if(n===B.a)c.forEach((function(r,o){t.set(Object(i.f)({id:Object(v.e)(Object(b.a)(r,Object(b.c)(e)),v.a.ValueIntercepter)}),n)})),t.set(Object(i.f)({id:Object(v.e)(Object(b.a)(o,Object(b.c)(e)),v.a.Status,r)}),n);else{var u=void 0,l=function(t,e){var n=e;return e instanceof Function&&(n=e(t)),n}(u=L(a?{value:c.map((function(n){return t.get(Object(i.f)({id:Object(v.e)(Object(b.a)(n,Object(b.c)(e)),v.a.ValueIntercepter)}))}))}:{value:t.get(Object(i.f)({id:e}))},t.get(Object(i.f)({id:Object(v.e)(e,v.a.Status)}))),n),s=l.value,f=q(l,["value"]),p=(u.value,q(u,["value"]));if(l.hasOwnProperty("value")){c.forEach((function(n,r){t.set(Object(i.f)({id:Object(v.e)(Object(b.a)(n,Object(b.c)(e)),v.a.ValueIntercepter)}),a?function(t){return Array.isArray(s)&&s?s[t]:void 0}(r):s)}))}t.set(Object(i.f)({id:Object(v.e)(Object(b.a)(o,Object(b.c)(e)),v.a.Status,r)}),L(L({},p),f))}}catch(d){console.warn(d)}}};function X(t){var e=this,n=t.name,r=t.alias,o=t.title,a=t.rules,c=void 0===a?[]:a,u=t.validateFirst,l=t.emptyErrorMessage,s=O();return Object(j.a)({virtual:!0,id:Object(v.e)(W(n),v.a.Error,r),get:function(t,n){return N(e,void 0,void 0,(function(){var e,n,a,f,p,d,b,m,h,y,g,O,x,j,w,S;return J(this,(function(C){switch(C.label){case 0:return e=function(t,e,n){return Object(M.a)({virtual:!0,id:Object(v.e)(t,v.a.EditState,e),defaultValue:{modify:!1,autoValidate:n}})}(Object(v.d)(t.id).id,r,s.autoValidate),n=t.get(e),a=n.modify,f=n.autoValidate,p=t.get(Object(i.f)({id:Object(v.e)(Object(v.d)(t.id).id,v.a.Compute,r)})),a||f||u?[3,1]:[2,[]];case 1:d=!1,b=[],m=function(t){return E(t.value.value)?l||o+"\u4e0d\u80fd\u4e3a\u7a7a!":void 0},C.label=2;case 2:C.trys.push([2,7,8,9]),h=z(p.require?c.concat([m]):c),y=h.next(),C.label=3;case 3:return y.done?[3,6]:(g=y.value,x=(O=b).push,[4,g({value:p,get:function(n){return"string"==typeof n&&t.get(e).modify&&(d=!0),_(t)(n)},id:t.id})]);case 4:x.apply(O,[C.sent()]),C.label=5;case 5:return y=h.next(),[3,3];case 6:return[3,9];case 7:return j=C.sent(),w={error:j},[3,9];case 8:try{y&&!y.done&&(S=h.return)&&S.call(h)}finally{if(w)throw w.error}return[7];case 9:return d||a||u?[2,b.filter((function(t){return!E(t)}))]:[2,[]];case 10:return[2]}}))}))}})}var K,Q=n(207),Y=function(){return(Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Z=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},tt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},et=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tt(arguments[e]));return t};function nt(t){return function(){function e(t){return Object(a.i)(function(t){var e=t.name,n=t.alias,r=t.get,o=t.set,a=D(t);return Object(j.a)({virtual:!0,id:Object(v.e)(W(e),v.a.Compute,n),get:r?function(t,e){var o=a(t),i=r(L(L({},t),{get:_(t),preComputeValue:e.hasTask(Object(v.e)(t.id,v.a.Compute,n))?e.getTaskStateById(Object(v.e)(t.id,v.a.Compute,n)):null,mixedValueAndStatus:o}));return Object($.b)(i)?i.then((function(t){return L(L({},o),t||{})})):L(L({},o),i||{})}:function(t){return a(t)},set:o?function(t,e,n){o(L(L({},t),{id:t.id,get:_(t),set:U(t)}),e)}:function(t,e){U(t)(Object(v.d)(t.id).id,e,n)}})}(t))}var n=function(t){var e,n=t.children,r=t.formTypes,a=t.info,i=t.baseProps,c=t.componentProps,u=t.isLayout,l=t.id,s=r.type,f=r.componentType,p=a.visible,b=void 0===p||p,v=Object(Q.a)((function(t){i.onChange(t)}),n),m=Object(d.b)(),h=m.WrapperComponent,y=m.TitleComponent,g=m.ContentComponent,x=Y(Y({},i),{arrayHelper:{mutators:v},componentProps:c}),j=O().components[f||s];"function"==typeof n?e=n(x):j?e=o.a.createElement(j,Y({},x),n):console.warn("xCompnent:"+f+", type: "+s+" not found!!!");var w=Y(Y({},a),{id:l,type:s,children:n});return o.a.createElement(o.a.Fragment,null,u?e:b&&o.a.createElement(h,Y({},w),o.a.createElement(y,Y({},w)),o.a.createElement(g,Y({},w),e)))};return{FormItem:function(t){var i=t.name,u=t.title,d=t.desc,v=t.tips,m=t.children,h=t.type,y=t.showTitle,g=t.tipsPosition,O=(t.alias,t.componentType),x=Object(r.useContext)(l.a).paths,j=Object(b.a)(i,x),w="layout"===h,S=Y(Y({},G(t)),{value:Object(f.b)(t)});Object(r.useEffect)((function(){return function(){console.log("-----",j,"unmount")}}),[]),function(t){var e=Object(a.c)(),n=G(t),o=H(t);Object(r.useMemo)((function(){var t=e.getTaskStateById(o.getId());!e.hasTask(o.getId())&&t&&e.updateState(o.getId(),c.a.Update,c.d.TaskState,n)}),[])}(t);var E=tt(e(t),2),C=E[0],k=E[1],I=Object(a.k)(X(t)),T=C.status,P=C.errorMsg,V=C.content,A=void 0===V?S:V,F=A.visible,R=A.disabled,M=A.require,B=A.preview,$=A.value,L=A.componentProps,N=A.layoutExtends,J=void 0===N?{}:N,q=void 0;T===c.c.Waiting||T===c.c.Running?q=p.b.Loading:c.c.Error===T&&(q=p.b.Error);var z=o.a.createElement(n,{id:j,isLayout:w,baseProps:{value:$,require:M,state:q,preview:B,disabled:R,onChange:function(t){var e=Y(Y({},C.content),{value:t});k(e)}},info:{showTitle:y,visible:F,title:u,desc:d,tipsPosition:g,tips:v,require:M,layoutExtends:J,formErrorMsg:I,errorMsg:P},formTypes:{type:h,componentType:O},componentProps:L||{}},m);return w?z:o.a.createElement(l.a.Provider,{value:{paths:et(x,[i])}},o.a.createElement(s.Provider,{value:{name:i}},z))},RdxFormRoot:function(e){var n=e.children,r=e.store,a=void 0===r?new R({}):r,i=e.JsonView,c=e.autoValidate,l=void 0!==c&&c,s=e.enabledStatePreview,f=Z(e,["children","store","JsonView","autoValidate","enabledStatePreview"]);return o.a.createElement(g.Provider,{value:{components:t.components,autoValidate:l}},o.a.createElement(u.a,Y({},f,{withStore:function(t){a._initContext(t)},initializeState:a._initState,createStore:function(t){return new v.b(t)},onChange:function(){}}),n,s&&o.a.createElement(y,{JsonView:i})))},getReferencedFormValueAtom:function(t){return Object(i.f)({id:Object(v.e)(t,v.a.ValueIntercepter)})},getReferencedFormStatusAtom:function(t){return Object(i.f)({id:Object(v.e)(t,v.a.Status)})},getReferencedFormCompute:function(t){return Object(i.f)({id:Object(v.e)(t,v.a.Compute)})},useValidator:function(){return P(Object(a.c)())},createFormStore:function(t){return new R(t)}}}}!function(t){t.Relative="Relative",t.Absolute="Absolute"}(K||(K={}))}}]);